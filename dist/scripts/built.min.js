var shopItems=document.getElementsByClassName("product"),cart=document.getElementById("cart"),cartContainer=document.getElementById("cart-container"),shop=document.getElementById("shop-listing"),toggleCartBtns=document.getElementsByClassName("toggle-cart-btn"),coupon1="DEADBEEF",coupon2="BLAHBLAH",coupon3="YADAYADA",couponElement=document.querySelector("#coupon"),totalPrice=0,cartList=[{id:"product-8",cartId:"cart-product-8",title:"Item 8",desc:"",price:19.99,img:"dist/assets/placeholder450x450.png",qty:1},{id:"product-5",cartId:"cart-product-5",title:"Item 5",desc:"",price:19.99,img:"dist/assets/placeholder450x450.png",qty:1},{id:"product-3",cartId:"cart-product-3",title:"Item 3",desc:"",price:19.99,img:"dist/assets/placeholder450x450.png",qty:1}];function toggleCart(t){cart.classList.toggle("visible"),shop.classList.toggle("visible")}function addToCart(t){for(var e=0;e<cartList.length;e++){var a=cartList[e];if(a.id===t.id){a.qty++;var r=document.querySelector("#"+cartList[e].cartId+" .quantity input");return r&&r.value++,updateTotalPrice(),void updateCartNumber()}}console.log("oh naw"),createNewCartItem(t),updateTotalPrice(),updateCartNumber()}function updateTotalPrice(){if(totalPrice=0,couponElement.value===coupon1)for(var t in cartList)"product-1"===cartList[t].id?totalPrice+=cartList[t].price*cartList[t].qty-cartList[t].price*cartList[t].qty*.1:totalPrice+=cartList[t].price*cartList[t].qty;else if(couponElement.value===coupon2)for(var t in cartList)10<=cartList[t].price?totalPrice+=cartList[t].price*cartList[t].qty-cartList[t].price*cartList[t].qty*.15:totalPrice+=cartList[t].price*cartList[t].qty;else if(couponElement.value===coupon3){for(var t in cartList)totalPrice+=cartList[t].price*cartList[t].qty;totalPrice-=.05*totalPrice}else for(var t in cartList)totalPrice+=cartList[t].price*cartList[t].qty;document.querySelector("#total-price p").innerHTML=totalPrice.toFixed(2)+"$"}function createNewCartItem(t){var e={id:t.id,cartId:"cart-"+t.id,title:t.querySelector(".shop-item__title").innerHTML,img:t.querySelector(".shop-item__image").getAttribute("src"),desc:t.querySelector(".shop-item__description").innerHTML,price:t.querySelector(".shop-item__price").innerHTML,qty:1};cartList.push(e);var a=document.createElement("article");a.className="shop-item",a.id=e.cartId;var r=document.createElement("img");r.className="shop-item__img",r.src=e.img,r.title="product image",r.alt="product image";var c=document.createElement("div");c.className="shop-item__description";var i=document.createElement("div");i.className="price";var o=document.createElement("div");o.className="quantity";var n=document.createElement("div");n.className="button-wrap";var d=document.createElement("h2");d.className="product-title";var l=document.createElement("p");l.className="product-description";var s=document.createElement("h2"),p=document.createElement("p"),u=document.createElement("h2"),m=document.createElement("button");m.className="less";var v=document.createElement("input");v.className="qnum",v.type="number",v.name="product-quantity",v.value="1",v.disabled="disabled";var L=document.createElement("button");L.className="plus";var g=document.createElement("button");g.className="remove";var C=document.createTextNode(""+e.title),y=document.createTextNode(""+e.desc),h=document.createTextNode("Price"),N=document.createTextNode(e.price+"$"),E=document.createTextNode("Quantity"),q=document.createTextNode("-");q.className="less";var f=document.createTextNode("+");f.className="plus";var T=document.createTextNode("Remove from Cart");d.appendChild(C),l.appendChild(y),s.appendChild(h),p.appendChild(N),u.appendChild(E),m.appendChild(q),L.appendChild(f),g.appendChild(T),c.appendChild(d),c.appendChild(l),i.appendChild(s),i.appendChild(p),o.appendChild(u),o.appendChild(m),o.appendChild(v),o.appendChild(L),n.appendChild(g),a.appendChild(r),a.appendChild(c),a.appendChild(i),a.appendChild(o),a.appendChild(n),cartContainer.appendChild(a)}function removeFromCart(t){for(var e in cartList)if(cartList[e].cartId===t.id&&confirm("Are you sure you want to remove the item '"+t.querySelector(".product-title").innerHTML+"' from your Cart?"))return cartList.splice(e,1),t.parentNode.removeChild(t),updateTotalPrice(),updateCartNumber(),!0;return!1}function updateCartNumber(){var t=0;for(var e in cartList)t+=cartList[e].qty;document.getElementById("cart-num").innerHTML=t}for(var i=0;i<toggleCartBtns.length;i++)toggleCartBtns[i].addEventListener("click",toggleCart,!1);shop.addEventListener("click",function(t){t.target.classList.contains("add-to-cart-btn")&&addToCart(t.target.parentNode.parentNode)}),cart.addEventListener("click",function(t){t.target.classList.contains("remove")&&removeFromCart(e=t.target.parentNode.parentNode);if(t.target.classList.contains("less")){var e=t.target.parentNode.parentNode;for(var a in cartList)cartList[a].cartId===e.id&&(1<=cartList[a].qty&&(cartList[a].qty--,document.querySelector("#"+e.id+" .quantity input").value--),0==cartList[a].qty&&(removeFromCart(e)||(cartList[a].qty=1,document.querySelector("#"+e.id+" .quantity input").value=1)));updateTotalPrice(),updateCartNumber()}if(t.target.classList.contains("plus")){e=t.target.parentNode.parentNode;for(var a in cartList)cartList[a].cartId===e.id&&(cartList[a].qty++,document.querySelector("#"+e.id+" .quantity input").value++,updateTotalPrice(),updateCartNumber())}}),couponElement.addEventListener("input",function(t){couponElement.value===coupon1||couponElement.value===coupon2||couponElement.value===coupon3?couponElement.style.backgroundColor="#8f8":couponElement.style.backgroundColor="#fff",updateTotalPrice()});