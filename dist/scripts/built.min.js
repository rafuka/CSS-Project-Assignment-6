!function(c,e,m){var g={},d={},p=0,y=0,u=c("#total-price"),t=document.getElementById("shop-template").innerHTML,a=e.compile(t),i=document.getElementById("cart-template").innerHTML,v=e.compile(i),o=c("#shop-list"),s=c("#cart"),n=(c("#cart-list"),c("#modal-overlay")),f=c("#cart-num");if(localStorage.getItem("cartData")){for(var l=0,r=(d=JSON.parse(localStorage.getItem("cartData"))).items.length;l<r;l++)p+=d.items[l].qty,f.text(p);y=I(),u.text(y.toFixed(2));var h=v(d);document.getElementById("cart-list").innerHTML=h}else d={items:[]};function I(){for(var e=price=0,t=d.items.length;e<t;e++){var a=d.items[e];price+=a.price*a.qty}return console.log(price),price}c.getJSON("shopdata.json",function(e){var t=a(g=e);document.getElementById("shop-list").innerHTML+=t;var r=c("#cart-icon");o.on("click",".shop-item__add-btn",function(e){m.isTweening(r)||m.from(r,.7,{scale:1.5,ease:Bounce.easeOut});for(var t=c(e.target).closest(".shop-item").attr("id"),a=parseInt(t.replace(/[^0-9]/gi,"")),i=!1,o=0,s=d.items.length;o<s;o++)d.items[o].id==a&&(d.items[o].qty++,i=!0,console.log(d));if(!i){var n;for(o=0,s=g.items.length;o<s;o++)g.items[o].id==a&&(n=g.items[o]);n.qty=1,d.items.push(n)}y=I(),u.text(y.toFixed(2));var l=v(d);document.getElementById("cart-list").innerHTML=l,p++,f.text(p),localStorage.setItem("cartData",JSON.stringify(d))})}),c("body").on("click",".cart-toggle",function(e){s.hasClass("visible")?m.isTweening(s)||(m.to(s,.7,{right:"-650px",ease:Back.easeIn.config(1.2)}),s.removeClass("visible"),n.removeClass("cart-toggle"),m.to(n,.5,{display:"none",opacity:0}),c("body").removeClass("no-scroll")):m.isTweening(s)||(m.to(s,.7,{right:"-50px",ease:Back.easeOut.config(1.2)}),s.addClass("visible"),n.addClass("cart-toggle"),m.to(n,.5,{display:"block",opacity:.8}),c("body").addClass("no-scroll"))}),o.on("click",".shop-item__details",function(e){console.log("details")})}(jQuery,Handlebars,TweenMax);