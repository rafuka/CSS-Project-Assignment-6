{"version":3,"sources":["bundle.js"],"names":["shopData","cartData","totalCartItems","totalPriceNum","shopTemplateHTML","$","html","shopTemplate","Handlebars","compile","cartTemplateHTML","cartTemplate","detailsTemplateHTML","detailsTemplate","$body","$totalPriceElem","$shop","$shopList","$cart","$cartList","$cartOverlay","$cartNumElm","$cartIcon","$loadingModal","$loader","$detailsModal","$detailsOverlay","$applyCouponBtn","$couponInput","localStorage","getItem","JSON","parse","updateCartList","items","getJSON","data","shopHTML","setInterval","addClass","removeClass","loaderAnimation","TimelineMax","to","border","backgroundColor","animation","rotate","height","width","display","top","left","ease","Back","easeIn","config","opacity","autoAlpha","on","toggleCart","toggleDetails","addItem","decreaseQty","increaseQty","removeItem","handleCoupon","cartDuration","overlayDuration","hasClass","TweenMax","isTweening","right","easeOut","e","target","idNum","getItemIdNum","closest","item","id","itemDetailsHTML","detailsAnimation","$carousel","find","unbind","handleNextImage","y","$images","first","imgArr","toArray","carouselAnimation","eventData","bind","from","scale","Bounce","shopItem","shopItemId","attr","parseInt","replace","itemInCart","qty","unshift","confirm","title","index","indexOf","splice","prevPrice","i","len","length","cartItem","price","text","coupon","toFixed","cartHTML","setItem","stringify","element","itemId","currImg","nextImgRight","nextImgLeft","displayNextImage","nextImg","couponCode","val"],"mappings":"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","file":"bundle-babel.js","sourcesContent":["\n\n\n  let shopData = {};  // will contain the shop items' data.\n  let cartData = {};  // will contain the cart items' data.\n  let totalCartItems = 0;\n  let totalPriceNum = 0;\n\n\n  \n  // ------- Handlebars Templates & Helpers ------- //\n\n  let shopTemplateHTML = $('#shop-template').html();\n  let shopTemplate = Handlebars.compile(shopTemplateHTML);\n\n  let cartTemplateHTML = $('#cart-template').html();\n  let cartTemplate = Handlebars.compile(cartTemplateHTML);\n\n  let detailsTemplateHTML = $('#item-details-template').html();\n  let detailsTemplate = Handlebars.compile(detailsTemplateHTML);\n\n\n  // ------- jQuery Elements ------- //\n\n  let $body = $('body');\n  let $totalPriceElem = $('#total-price');\n  let $shop = $('#shop');\n  let $shopList = $('#shop-list');\n  let $cart = $('#cart');\n  let $cartList = $('#cart-list');\n  let $cartOverlay = $('#cart-overlay');\n  let $cartNumElm = $('#cart-num');\n  let $cartIcon = $('#cart-icon');\n  let $loadingModal = $('#loading-modal');\n  let $loader = $('#loader');\n  let $detailsModal = $('#item-details-modal');\n  let $detailsOverlay = $('#details-overlay');\n  let $applyCouponBtn = $('.cart-footer__coupon-apply');\n  let $couponInput = $('#coupon');\n\n\n    /*\n  * Retrieve cart element's from local storage (if any) and update the cart listing.\n  */\n  if (localStorage.getItem('cartData')) {\n\n    cartData = JSON.parse(localStorage.getItem('cartData'));\n    updateCartList();\n\n  }\n  else {\n    cartData = {\n      items: []\n    }\n  }\n\n  /*\n  * Read the shop listing item's data and produce the HTML\n  */\n  $.getJSON(\"shopdata.json\", data => {\n\n    shopData = data;\n    let shopHTML = shopTemplate(shopData);\n    $shopList.html(shopHTML);\n\n    // Just for the thrills.\n    setInterval(function() {\n      $loader.addClass('success');\n      $shop.removeClass('hidden');\n\n      let loaderAnimation = new TimelineMax();\n\n      loaderAnimation\n      .to($loader, .4, { \n        border: '0px', \n        backgroundColor: 'black', \n        animation: 'none', \n        rotate: 0})\n      .to($loader, .7, {\n        height: '0px', \n        width: '0px', \n        display: 'none', \n        top: '50%', \n        left: '50%', \n        ease: Back.easeIn.config(5) })\n      .to($loadingModal, .3, {\n        opacity: 0, \n        display: 'none',\n      })\n      .to($shop, .3, {display: 'block', autoAlpha: 1});\n    }, 800);\n\n    \n    // ------- Event Handlers ------- //\n\n    // Open/Close Cart view.\n    $body.on('click', '.cart-toggle', toggleCart);\n    $body.on('click', '.details-toggle', toggleDetails);\n\n    $shopList.on('click', '.shop-item__add-btn', addItem);\n    \n    $cart.on('click', '.cart-item__less', decreaseQty);\n    $cart.on('click', '.cart-item__plus', increaseQty);\n    $cart.on('click', '.cart-item__remove', removeItem);\n\n    $applyCouponBtn.on('click', handleCoupon);\n\n    // The event hanlder for the carousel arrow controls is set on the toggleDetails function below.\n\n  });\n\n\n  // ---------  Functions --------- //\n\n  function toggleCart() {\n\n    let cartDuration = .7;\n    let overlayDuration = .8;\n\n    if ($cart.hasClass('visible')) {\n      if (!TweenMax.isTweening($cart)) {\n        $body.removeClass('no-scroll');\n        $cart.removeClass('visible');\n        $cartOverlay.removeClass('cart-toggle');\n\n        TweenMax.to($cart, cartDuration, {right: '-650px', ease: Back.easeIn.config(1.2)});\n        TweenMax.to($cartOverlay, overlayDuration, {display: 'none', opacity: 0});\n        \n      }   \n    }\n    else {\n      if (!TweenMax.isTweening($cart)) {\n        TweenMax.to($cart, cartDuration, {right: '-50px', ease: Back.easeOut.config(1.2)});\n        $cart.addClass('visible');\n        $cartOverlay.addClass('cart-toggle');\n\n        TweenMax.to($cartOverlay, overlayDuration, {display: 'block', opacity: .8, autoAlpha: 1});\n        $body.addClass('no-scroll');\n      }\n    }\n  }\n\n  function toggleDetails(e) {\n\n    if ($(e.target).hasClass('shop-item__details')) {\n      var idNum = getItemIdNum($(e.target).closest('.shop-item'));\n\n      for (let item of shopData.items) {\n        if (item.id == idNum) {\n          let itemDetailsHTML = detailsTemplate(item);\n          $detailsModal.html(itemDetailsHTML);\n          break;\n        } \n      }\n    }\n\n    let detailsAnimation = new TimelineMax();\n\n    if ($detailsModal.hasClass('visible')) {\n      if(!TweenMax.isTweening($detailsModal) && !TweenMax.isTweening($detailsOverlay)) {\n        $body.removeClass('no-scroll');\n        $detailsOverlay.removeClass('details-toggle');\n        $detailsModal.removeClass('visible');\n\n        let $carousel = $detailsModal.find('.carousel');\n\n        $carousel.unbind('click', handleNextImage);\n\n        detailsAnimation\n        .to($detailsModal, .3, {\n          display: 'none',\n          y: '+=75px',\n          autoAlpha: 0\n        })\n        .to($detailsOverlay, .3, { \n          display: 'none',\n          autoAlpha: 0 \n        });\n      }\n    }\n    else {\n      if (!TweenMax.isTweening($detailsModal) && !TweenMax.isTweening($detailsOverlay)) {\n        $body.addClass('no-scroll');\n        $detailsOverlay.addClass('details-toggle');\n        $detailsModal.addClass('visible');\n\n        let $images = $detailsModal.find('.carousel__image');\n        $images.first().addClass('visible');\n        TweenMax.to($images.first(), 0, {\n          display: 'block',\n          autoAlpha: 1\n        });\n\n        let imgArr = $images.toArray();\n        let carouselAnimation = new TimelineMax();\n        let $carousel = $detailsModal.find('.carousel');\n\n        let eventData = {\n          imgArr: imgArr,\n          animation: carouselAnimation,\n          $carousel: $carousel\n        }\n\n        $carousel.bind('click', eventData, handleNextImage);\n          \n        detailsAnimation\n        .to($detailsOverlay, .3, { \n          display: 'block',\n          autoAlpha: .8 })\n        .to($detailsModal, .5, {\n          display: 'block',\n          y: '-=75px',\n          autoAlpha: 1\n        });  \n      }\n    }\n  }\n\n  function addItem(e) {\n    if (!TweenMax.isTweening($cartIcon)) {\n      TweenMax.from($cartIcon, .7, {scale: 1.5, ease: Bounce.easeOut });\n    }\n\n    var shopItem = $(e.target).closest('.shop-item');\n    var shopItemId = shopItem.attr('id');\n    var idNum = parseInt(shopItemId.replace(/[^0-9]/gi, ''));\n\n\n    // Check if item exists in cart. If not, create it.\n    // Else just increase item's qty.\n    // Finally, update cart list.\n\n    var itemInCart = false;\n\n    for (let item of cartData.items) {\n      if (item.id == idNum) {\n        item.qty++;\n        itemInCart = true;\n        break;\n      }\n    }\n\n    if(!itemInCart) {\n\n      for (let item of shopData.items) {\n        if (item.id == idNum) {\n          item.qty = 1;\n          cartData.items.unshift(item);\n          break;\n        }\n      } \n    }\n\n    updateCartList();\n    \n  }\n\n  function decreaseQty(e) {\n    var idNum = getItemIdNum($(e.target).closest('.cart-item'));\n\n    for (let item of cartData.items) {\n      if (item.id == idNum) {\n        if (item.qty > 1) {\n          item.qty--;\n          updateCartList();\n        }\n        else if (confirm('Do you want to remove ' + item.title + ' from the cart?')) {\n          let index = cartData.items.indexOf(item);\n          cartData.items.splice(index, 1);\n          updateCartList();\n        }\n\n        break;\n      }\n    }\n  }\n\n  function increaseQty(e) {\n    var idNum = getItemIdNum($(e.target).closest('.cart-item'));\n\n    for (let item of cartData.items) {\n      if (item.id == idNum) {\n        item.qty++;\n        updateCartList();\n        break;\n      }\n    }\n  }\n\n  function removeItem(e) {\n    var idNum = getItemIdNum($(e.target).closest('.cart-item'));\n\n    for (let item of cartData.items) {\n      if (item.id == idNum) {\n        if (confirm('Do you want to remove ' + item.title + ' from the cart?')) {\n          let index = cartData.items.indexOf(item);\n          cartData.items.splice(index, 1);\n          updateCartList();\n        }\n        break;\n      }\n    }\n  }\n\n  // Update cart \n  function updateCartList() {\n\n    // Calculate total price and total number of items in cart\n    let prevPrice = totalPriceNum;\n    totalPriceNum = 0;\n    totalCartItems = 0;\n\n    for (var i = 0, len = cartData.items.length; i < len; i++) {\n      var cartItem = cartData.items[i];\n      totalPriceNum += cartItem.price * cartItem.qty;\n      totalCartItems += cartItem.qty; \n    }\n\n    $cartNumElm.text(totalCartItems);\n\n    // Check if there is any coupon, apply it.\n    if (cartData.coupon) {\n      switch (cartData.coupon) {\n        case 'DEADBEEF':\n          totalPriceNum = totalPriceNum - (totalPriceNum * .15);\n          break;\n        case 'BLAHBLAH':\n          totalPriceNum -= 10;\n          break;\n      }\n      if (totalPriceNum < 0) {\n        totalPriceNum = 0;\n      }\n      $('.cart-footer__price').addClass('with-coupon');\n    }\n\n    $totalPriceElem.text(totalPriceNum.toFixed(2));\n\n    var cartHTML = cartTemplate(cartData);\n    $cartList.html(cartHTML);\n\n    localStorage.setItem('cartData', JSON.stringify(cartData));\n  }\n\n  function getItemIdNum(element) {\n    var itemId = element.attr('id');\n    var idNum = parseInt(itemId.replace(/[^0-9]/gi, ''));\n\n    return idNum;\n  }\n\n  function handleNextImage(e) {\n    let imgArr = e.data.imgArr;\n    let animation = e.data.animation;\n    let $carousel = e.data.$carousel;\n    let currImg = 0;\n    let nextImgRight = 0;\n    let nextImgLeft = 0;\n\n    for (let i = 0; i < imgArr.length; i++) {\n      if ($(imgArr[i]).hasClass('visible')) {\n        currImg = i;\n        nextImgRight = i + 1 >= imgArr.length ? 0 : i + 1;\n        nextImgLeft = i - 1 < 0 ? imgArr.length - 1 : i - 1;\n      }\n    }\n\n    if ($(e.target).hasClass('carousel__control-right')) {\n      // Next image right\n      displayNextImage(imgArr, animation, currImg, nextImgRight);          \n      \n    }\n    else if ($(e.target).hasClass('carousel__control-left')){\n      // Next image left\n      displayNextImage(imgArr, animation, currImg, nextImgLeft); \n    }\n\n  }\n\n  function displayNextImage(imgArr, animation, currImg, nextImg) {\n    animation\n    .to($(imgArr[currImg]), .3, {\n      display: 'none',\n      autoAlpha: 0\n    })\n    .to($(imgArr[nextImg]), .3, {\n      display: 'block',\n      autoAlpha: 1\n    });\n\n    $(imgArr[currImg]).removeClass('visible');\n    $(imgArr[nextImg]).addClass('visible'); \n  }\n\n  function handleCoupon(e) {\n    let couponCode = $couponInput.val();\n\n    switch (couponCode) {\n      case 'DEADBEEF' :\n        cartData.coupon = 'DEADBEEF';\n        updateCartList();\n        break;\n      case 'BLAHBLAH':\n        cartData.coupon = 'BLAHBLAH';\n        updateCartList();\n        break;\n    }\n  }\n\n"]}